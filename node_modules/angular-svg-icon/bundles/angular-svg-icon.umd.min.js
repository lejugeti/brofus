!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("angular-svg-icon",["exports","@angular/core","@angular/common","rxjs","rxjs/operators","@angular/common/http"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["angular-svg-icon"]={},t.ng.core,t.ng.common,t.rxjs,t.rxjs.operators,t.ng.common.http)}(this,(function(t,e,r,i,s,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};Object.create;function a(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,s,n=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(t){s={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}Object.create;var h=function(){},c=function(t){function e(e){var r=t.call(this)||this;return r.http=e,r}return function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.getSvg=function(t){return this.http.get(t,{responseType:"text"})},e}(h);c.decorators=[{type:e.Injectable}],c.ctorParameters=function(){return[{type:n.HttpClient}]};var u=new e.InjectionToken("SERVER_URL"),p=function(){function t(t,e,r,i){this.loader=t,this.platformId=e,this.serverUrl=r,this._document=i,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}return t.prototype.addSvg=function(t,e){if(!this.iconsByUrl.has(t)){var r=this.document.createElement("DIV");r.innerHTML=e;var i=r.querySelector("svg");this.iconsByUrl.set(t,i)}},t.prototype.loadSvg=function(t,e){var r=this;if(void 0===e&&(e=t),this.serverUrl&&null===t.match(/^(http(s)?):/)&&(t=this.serverUrl+t,e=t),this.iconsByUrl.has(e))return i.of(this.iconsByUrl.get(e));if(this.iconsLoadingByUrl.has(e))return this.iconsLoadingByUrl.get(e);var n=this.loader.getSvg(t).pipe(s.map((function(t){var e=r.document.createElement("DIV");return e.innerHTML=t,e.querySelector("svg")})),s.tap((function(t){return r.iconsByUrl.set(e,t)})),s.catchError((function(t){return console.error(t),i.throwError(t)})),s.finalize((function(){return r.iconsLoadingByUrl.delete(e)})),s.share());return this.iconsLoadingByUrl.set(e,n),n},t.prototype.getSvgByName=function(t){return this.iconsByUrl.has(t)?i.of(this.iconsByUrl.get(t)):this.iconsLoadingByUrl.has(t)?this.iconsLoadingByUrl.get(t):i.throwError("No svg with name '"+t+"' has been loaded")},t.prototype.unloadSvg=function(t){this.iconsByUrl.has(t)&&this.iconsByUrl.delete(t)},t}();function d(t,e,r,i,s){return t||new p(e,r,i,s)}p.decorators=[{type:e.Injectable}],p.ctorParameters=function(){return[{type:h},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:String,decorators:[{type:e.Optional},{type:e.Inject,args:[u]}]},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[r.DOCUMENT]}]}]};var f={provide:p,deps:[[new e.Optional,new e.SkipSelf,p],h,[e.PLATFORM_ID],[new e.Optional,u],[new e.Optional,r.DOCUMENT]],useFactory:d},y=function(){function t(t,e,r,i,s){this.element=t,this.differs=e,this.renderer=r,this.iconReg=i,this.cdr=s,this.stretch=!1,this.applyClass=!1,this.applyCss=!1,this.loaded=!1}return Object.defineProperty(t.prototype,"svgStyle",{set:function(t){this._svgStyle=t,!this.differ&&t&&(this.differ=this.differs.find(t).create())},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.init()},t.prototype.ngOnDestroy=function(){this.destroy()},t.prototype.ngOnChanges=function(t){var e=this.element.nativeElement.firstChild;if((t.src||t.name)&&(this.loaded&&this.destroy(),this.init()),t.stretch&&this.stylize(),t.applyClass&&(this.applyClass?this.setClass(e,null,this.klass):this.setClass(e,this.klass,null)),t.svgClass&&this.setClass(e,t.svgClass.previousValue,t.svgClass.currentValue),t.klass){var r=this.element.nativeElement;this.setClass(r,t.klass.previousValue,t.klass.currentValue),this.applyClass?this.setClass(e,t.klass.previousValue,t.klass.currentValue):this.setClass(e,t.klass.previousValue,null)}t.viewBox&&(this.loaded&&this.destroy(),this.init()),t.applyCss&&(console.warn("applyCss deprecated since 9.1.0, will be removed in 10.0.0"),console.warn("use applyClass instead")),t.svgAriaLabel&&this.doAria(t.svgAriaLabel.currentValue)},t.prototype.ngDoCheck=function(){if(this.svg&&this.differ){var t=this.differ.diff(this._svgStyle);t&&this.applyChanges(t)}},t.prototype.init=function(){if(this.name)this.icnSub=this.iconReg.getSvgByName(this.name).subscribe(this.initSvg.bind(this));else if(this.src)this.icnSub=this.iconReg.loadSvg(this.src).subscribe(this.initSvg.bind(this));else{this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}},t.prototype.initSvg=function(t){this.loaded||(this.setSvg(t),this.resetDiffer())},t.prototype.destroy=function(){this.svg=void 0,this.differ=void 0,this.loaded=!1,this.icnSub&&this.icnSub.unsubscribe()},t.prototype.resetDiffer=function(){this._svgStyle&&!this.differ&&(this.differ=this.differs.find(this._svgStyle).create())},t.prototype.setSvg=function(t){if(!this.loaded&&t){this.svg=t;var e=t.cloneNode(!0),r=this.element.nativeElement;if(r.innerHTML="",this.renderer.appendChild(r,e),this.loaded=!0,this.copyNgContentAttribute(r,e),this.klass&&this.applyClass&&this.setClass(r.firstChild,null,this.klass),this.svgClass&&this.setClass(r.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){var i=e.getAttribute("width"),s=e.getAttribute("height");if(s&&i){var n="0 0 "+i+" "+s;this.renderer.setAttribute(e,"viewBox",n),this.renderer.removeAttribute(e,"width"),this.renderer.removeAttribute(e,"height")}}else""!==this.viewBox&&(this.renderer.setAttribute(e,"viewBox",this.viewBox),this.renderer.removeAttribute(e,"width"),this.renderer.removeAttribute(e,"height"));this.stylize(),void 0===this.svgAriaLabel&&r.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}},t.prototype.copyNgContentAttribute=function(t,e){for(var r=t.attributes,i=r.length,s=0;s<i;s+=1){var n=r.item(s);if(n.name.startsWith("_ngcontent")){this.setNgContentAttribute(e,n.name);break}}},t.prototype.setNgContentAttribute=function(t,e){this.renderer.setAttribute(t,e,"");for(var r=t.childNodes.length,i=0;i<r;i+=1){var s=t.childNodes[i];s instanceof Element&&this.setNgContentAttribute(s,e)}},t.prototype.stylize=function(){if(this.svg){var t=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(t,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(t,"preserveAspectRatio")}},t.prototype.applyChanges=function(t){var e=this;t.forEachRemovedItem((function(t){return e.setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e.setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e.setStyle(t.key,t.currentValue)}))},t.prototype.setStyle=function(t,e){var r=l(t.split("."),2),i=r[0],s=r[1];e=null!==e&&s?""+e+s:e;var n=this.element.nativeElement.firstChild;null!==e?this.renderer.setStyle(n,i,e):this.renderer.removeStyle(n,i)},t.prototype.setClass=function(t,e,r){var i,s,n,o;if(t){if(e){var l=Array.isArray(e)?e:e.split(" ");try{for(var h=a(l),c=h.next();!c.done;c=h.next()){var u=c.value;this.renderer.removeClass(t,u)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}if(r){l=Array.isArray(r)?r:r.split(" ");try{for(var p=a(l),d=p.next();!d.done;d=p.next()){u=d.value;this.renderer.addClass(t,u)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}}},t.prototype.doAria=function(t){var e=this.element.nativeElement.firstChild;e&&(""===t?(this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.removeAttribute(e,"aria-label")):(this.renderer.removeAttribute(e,"aria-hidden"),this.renderer.setAttribute(e,"aria-label",t)))},t}();y.decorators=[{type:e.Component,args:[{selector:"svg-icon",template:"<ng-content></ng-content>"}]}],y.ctorParameters=function(){return[{type:e.ElementRef},{type:e.KeyValueDiffers},{type:e.Renderer2},{type:p},{type:e.ChangeDetectorRef}]},y.propDecorators={src:[{type:e.Input}],name:[{type:e.Input}],stretch:[{type:e.Input}],applyClass:[{type:e.Input}],applyCss:[{type:e.Input}],svgClass:[{type:e.Input}],klass:[{type:e.Input,args:["class"]}],viewBox:[{type:e.Input}],svgAriaLabel:[{type:e.Input}],svgStyle:[{type:e.Input}]};var v=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[f,e.loader||{provide:h,useClass:c}]}},t}();v.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule],declarations:[y],exports:[y]}]}],t.AngularSvgIconModule=v,t.SERVER_URL=u,t.SVG_ICON_REGISTRY_PROVIDER=f,t.SVG_ICON_REGISTRY_PROVIDER_FACTORY=d,t.SvgHttpLoader=c,t.SvgIconComponent=y,t.SvgIconRegistryService=p,t.SvgLoader=h,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-svg-icon.umd.min.js.map